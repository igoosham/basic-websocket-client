!function(e,n){if("object"==typeof exports&&"undefined"!=typeof module||"function"==typeof define&&define.amd)throw new Error("This is websocket client for use in browsers only");e.ws=function(){"use strict";var e,n,o=[],s=!0,t={wrongUrl:"remote server url not set or client failed to connect using given url. Check server settings and internet connection when try ws.url(proper server url) or ws.local(localhost port as number)."},c={closedConn:"the connection is closed or in the process of closing. The message will be cashed and will be send then the connection will be successfully opened. To clean cash use ws.flush().",openingConn:"the connection is not yet open. The message is cashed and will be send as soon as connection is open."};function r(){e||wrongUrlError(),(n=new WebSocket(e)).onclose=function(){f("connection closed."),n.onmessage=null,n.onopen=null,n.onerror=null,n.onclose=null,n=e=null},n.onopen=function(){for(f("connection open.");o.length;)l(o.pop())},n.onmessage=function(e){i(e.data)}}function l(e){try{switch(n.readyState){case 0:f(c.openingConn),o.push(e);break;case 1:n.send(e),u(e);break;default:f(c.closedConn),o.push(e)}}catch(e){console.error("client:/n",e)}}function i(e){"string"==typeof e&&console.log(`server:\n %c${e}`,"color: green;"),"object"==typeof e&&console.log("%cserver:","color: green;",e)}function u(e){"string"==typeof e&&console.log(`client:\n %c${e}`,"color: red;"),"object"==typeof e&&console.log("client:\n",e)}function a(e){console.error("ws:",e)}function f(e){console.log(`client:\n %c${e}`,"color: #f57f17;")}return{cash(){return o.length>0&&console.table(o),s?this:void 0},chaining(e){return(s=e)?this:void 0},close(){return n.close(),s?this:void 0},url(n){return e=n,r(),s?this:void 0},local(n){return e=`ws://localhost:${n}/`,r(),s?this:void 0},send(e){return n instanceof WebSocket?(l(e),s?this:void 0):(a(t.wrongUrl),s?this:void 0)}}}()}(this);